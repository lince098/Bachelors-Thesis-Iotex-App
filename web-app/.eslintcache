[{"/home/lince098/Escritorio/TFG/web-app/src/index.js":"1","/home/lince098/Escritorio/TFG/web-app/src/App.js":"2","/home/lince098/Escritorio/TFG/web-app/src/reportWebVitals.js":"3","/home/lince098/Escritorio/TFG/web-app/src/utils/antanna.ts":"4","/home/lince098/Escritorio/TFG/web-app/src/utils/index.ts":"5","/home/lince098/Escritorio/TFG/web-app/src/utils/ws-plugin.ts":"6","/home/lince098/Escritorio/TFG/web-app/src/utils/js-plugin.ts":"7","/home/lince098/Escritorio/TFG/web-app/src/utils/helper.ts":"8","/home/lince098/Escritorio/TFG/web-app/src/utils/eventBus.ts":"9","/home/lince098/Escritorio/TFG/web-app/src/configs/public.ts":"10","/home/lince098/Escritorio/TFG/web-app/src/utils/env.js":"11","/home/lince098/Escritorio/TFG/web-app/src/components/Navbar.jsx":"12","/home/lince098/Escritorio/TFG/web-app/src/components/VistaPistas.jsx":"13","/home/lince098/Escritorio/TFG/web-app/src/utils/PistaUtils.js":"14","/home/lince098/Escritorio/TFG/web-app/src/store/wallet.ts":"15","/home/lince098/Escritorio/TFG/web-app/src/store/store.js":"16","/home/lince098/Escritorio/TFG/web-app/src/utils/hooks.ts":"17","/home/lince098/Escritorio/TFG/web-app/src/components/Reserva.jsx":"18"},{"size":474,"mtime":1613063684013,"results":"19","hashOfConfig":"20"},{"size":1318,"mtime":1614080750517,"results":"21","hashOfConfig":"20"},{"size":362,"mtime":1611947592153,"results":"22","hashOfConfig":"20"},{"size":3667,"mtime":1613063799216,"results":"23","hashOfConfig":"20"},{"size":170,"mtime":1600704168054,"results":"24","hashOfConfig":"20"},{"size":2841,"mtime":1611961947420,"results":"25","hashOfConfig":"20"},{"size":5969,"mtime":1600704168058,"results":"26","hashOfConfig":"20"},{"size":821,"mtime":1611961472444,"results":"27","hashOfConfig":"20"},{"size":392,"mtime":1600704168054,"results":"28","hashOfConfig":"20"},{"size":12574,"mtime":1614086097378,"results":"29","hashOfConfig":"20"},{"size":818,"mtime":1611961979820,"results":"30","hashOfConfig":"20"},{"size":1431,"mtime":1613422347867,"results":"31","hashOfConfig":"20"},{"size":3264,"mtime":1614080678677,"results":"32","hashOfConfig":"20"},{"size":3987,"mtime":1614163214930,"results":"33","hashOfConfig":"20"},{"size":2428,"mtime":1613065502259,"results":"34","hashOfConfig":"20"},{"size":324,"mtime":1612905859334,"results":"35","hashOfConfig":"20"},{"size":697,"mtime":1613063936054,"results":"36","hashOfConfig":"20"},{"size":2772,"mtime":1614163164838,"results":"37","hashOfConfig":"20"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},"12ikhe5",{"filePath":"41","messages":"42","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"47","usedDeprecatedRules":"48"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"63","messages":"64","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"65","messages":"66","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"67","messages":"68","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"69","messages":"70","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"71","usedDeprecatedRules":"48"},{"filePath":"72","messages":"73","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"74","messages":"75","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"76","messages":"77","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"/home/lince098/Escritorio/TFG/web-app/src/index.js",[],["78","79"],"/home/lince098/Escritorio/TFG/web-app/src/App.js",["80"],"/home/lince098/Escritorio/TFG/web-app/src/reportWebVitals.js",[],"/home/lince098/Escritorio/TFG/web-app/src/utils/antanna.ts",["81"],"import Antenna from \"iotex-antenna\";\nimport { WsSignerPlugin } from \"./ws-plugin\";\nimport { utils } from \"./index\";\nimport { publicConfig } from \"../configs/public\";\nimport { IAccount } from \"iotex-antenna/lib/account/account\";\nimport { JsBridgeSignerMobile } from \"./js-plugin\";\nimport { eventBus } from \"./eventBus\";\n\nexport class AntennaUtils {\n  public static defaultContractOptions = {\n    gasLimit: \"20000000\",\n    gasPrice: \"1000000000000\",\n  };\n  public static antenna: Antenna | undefined = undefined;\n  public static wsSigner: WsSignerPlugin | undefined = undefined;\n  public static jsSigner: JsBridgeSignerMobile | undefined = undefined;\n  private static _defaultAccount: IAccount;\n\n  public static get account() {\n    return this.antenna?.iotx?.accounts[0];\n  }\n\n  static getAntenna(): undefined | Antenna {\n    if (this.antenna) {\n      return this.antenna;\n    }\n    if (utils.env.isBrowser() && !utils.env.isIoPayMobile()) {\n      this.wsSigner = new WsSignerPlugin({\n        options: {\n          packMessage: (data) => JSON.stringify(data),\n          //@ts-ignore\n          unpackMessage: (data) => JSON.parse(data),\n          attachRequestId: (data, requestId) =>\n            Object.assign({ reqId: requestId }, data),\n          extractRequestId: (data) => data && data.reqId,\n        },\n      });\n\n      const antenna = new Antenna(publicConfig.IOTEX_CORE_ENDPOPINT, {\n        signer: this.wsSigner.start(),\n      });\n      //@ts-ignore\n      this.antenna = antenna;\n      return antenna;\n    }\n    if (utils.env.isIoPayMobile()) {\n      this.jsSigner = new JsBridgeSignerMobile();\n      const antenna = new Antenna(publicConfig.IOTEX_CORE_ENDPOPINT, {\n        signer: this.jsSigner,\n      });\n      //@ts-ignore\n      this.antenna = antenna;\n      return antenna;\n    }\n\n    if (utils.env.isSSR()) {\n      const antenna = new Antenna(publicConfig.IOTEX_CORE_ENDPOPINT);\n      //@ts-ignore\n      this.antenna = antenna;\n      return antenna;\n    }\n  }\n\n  static async getIoPayAddress(): Promise<string> {\n    if (!AntennaUtils.antenna) {\n      AntennaUtils.antenna = AntennaUtils.getAntenna();\n    }\n    if (utils.env.isIoPayMobile()) {\n      //@ts-ignore\n      const address = await AntennaUtils.jsSigner.getIoAddressFromIoPay();\n      //@ts-ignore\n      AntennaUtils.antenna.iotx.accounts[0] = await AntennaUtils.jsSigner.getAccount(\n        address\n      );\n      return address;\n    }\n    if (utils.env.isBrowser()) {\n      //@ts-ignore\n      const accounts = await AntennaUtils.wsSigner.getAccounts();\n      if (accounts[0]) {\n        //@ts-ignore\n        AntennaUtils.antenna.iotx.accounts[0] = await AntennaUtils.wsSigner.getAccount(\n          accounts[0].address\n        );\n      }\n      return (accounts && accounts[0] && accounts[0].address) || \"\";\n    }\n    return \"\";\n  }\n\n  static async getIotxBalance(address: string): Promise<number> {\n    const antenna = AntennaUtils.getAntenna();\n    //@ts-ignore\n    const { accountMeta } = await antenna.iotx.getAccount({ address });\n    // @ts-ignore\n    return Number(fromRau(accountMeta.balance, \"Iotx\"));\n  }\n\n  static async signMessage(message: string): Promise<string> {\n    const antenna = AntennaUtils.getAntenna();\n    //@ts-ignore\n    if (antenna.iotx.signer && antenna.iotx.signer.signMessage) {\n      //@ts-ignore\n      const signed = await antenna.iotx.signer.signMessage(message);\n      if (typeof signed === \"object\") {\n        return Buffer.from(signed).toString(\"hex\");\n      }\n      return signed;\n    }\n    //@ts-ignore\n    const account = antenna.iotx.accounts[0];\n    const sig = account && (await account.sign(message));\n    return (sig && sig.toString(\"hex\")) || \"\";\n  }\n}\n",["82","83"],"/home/lince098/Escritorio/TFG/web-app/src/utils/index.ts",[],"/home/lince098/Escritorio/TFG/web-app/src/utils/ws-plugin.ts",[],"/home/lince098/Escritorio/TFG/web-app/src/utils/js-plugin.ts",[],"/home/lince098/Escritorio/TFG/web-app/src/utils/helper.ts",[],"/home/lince098/Escritorio/TFG/web-app/src/utils/eventBus.ts",[],"/home/lince098/Escritorio/TFG/web-app/src/configs/public.ts",[],"/home/lince098/Escritorio/TFG/web-app/src/utils/env.js",[],"/home/lince098/Escritorio/TFG/web-app/src/components/Navbar.jsx",[],"/home/lince098/Escritorio/TFG/web-app/src/components/VistaPistas.jsx",["84"],"/home/lince098/Escritorio/TFG/web-app/src/utils/PistaUtils.js",["85","86","87","88","89","90"],"/home/lince098/Escritorio/TFG/web-app/src/store/wallet.ts",["91","92"],"import { makeObservable, observable, computed, action } from \"mobx\";\nimport remotedev from \"mobx-remotedev\";\nimport { utils } from \"../utils/index\";\nimport { AntennaUtils } from \"../utils/antanna\";\nimport { fromRau, toRau } from \"iotex-antenna/lib/account/utils\";\n\n@remotedev({ name: \"wallet\" })\nexport class WalletStore {\n  account = {\n    address: \"\",\n    balance: \"\",\n  };\n\n  isConnectWsError = false;\n  constructor() {\n    makeObservable(this, {\n      account: observable,\n      isConnectWsError: observable,\n      initWS: action,\n      init: action,\n      loadAccount: action,\n    });\n  }\n\n  async init() {\n    try {\n      this.initEvent();\n      await this.initWS().catch((err) => console.log(err));\n    } catch (err) {\n      console.log(err);\n    }\n  }\n\n  initEvent() {\n    utils.eventBus\n      .on(\"client.iopay.connected\", () => {\n        console.log(\"iopay-desktop connected.\");\n        this.isConnectWsError = false;\n      })\n      .on(\"client.iopay.close\", () => {\n        this.account = { address: \"\", balance: \"\" };\n      })\n      .on(\"client.iopay.connectError\", () => {\n        this.account = { address: \"\", balance: \"\" };\n        this.isConnectWsError = true;\n      });\n  }\n\n  async initWS() {\n    const [err, address] = await utils.helper.promise.runAsync(\n      AntennaUtils.getIoPayAddress()\n    );\n\n    console.log(\n      \"*********\\nLogs de getiIoPAyAdrres \",\n      err,\n      \"\\nY address :\",\n      address,\n      \"\\n********\"\n    );\n\n    if (err || !address || address === \"\") {\n      return setTimeout(() => {\n        this.initWS();\n      }, 2000);\n      // @ts-ignore\n    }\n\n    this.account.address = address;\n    this.loadAccount();\n  }\n\n  async loadAccount() {\n    if (!this.account.address) return;\n    // @ts-ignore\n    const [err, data] = await utils.helper.promise.runAsync(\n      // @ts-ignore\n      AntennaUtils.getAntenna().iotx.getAccount({\n        address: this.account.address,\n      })\n    );\n\n    console.log(\n      \"*********\\nLogs de loadAcccount: \",\n      err,\n      \"\\nY data :\",\n      data?.accountMeta,\n      \"\\n********\"\n    );\n    if (err || !data) {\n      return setTimeout(() => {\n        this.loadAccount();\n      }, 2000);\n    }\n\n    if (!err && data)\n      if (data?.accountMeta) {\n        const { balance } = data?.accountMeta;\n        console.log(balance);\n\n        this.account.balance = fromRau(balance, \"iotx\");\n        console.log(this.account.balance);\n      }\n  }\n}\n","/home/lince098/Escritorio/TFG/web-app/src/store/store.js",[],"/home/lince098/Escritorio/TFG/web-app/src/utils/hooks.ts",[],"/home/lince098/Escritorio/TFG/web-app/src/components/Reserva.jsx",["93"],{"ruleId":"94","replacedBy":"95"},{"ruleId":"96","replacedBy":"97"},{"ruleId":"98","severity":1,"message":"99","line":22,"column":6,"nodeType":"100","endLine":22,"endColumn":8,"suggestions":"101"},{"ruleId":"102","severity":1,"message":"103","line":7,"column":10,"nodeType":"104","messageId":"105","endLine":7,"endColumn":18},{"ruleId":"94","replacedBy":"95"},{"ruleId":"96","replacedBy":"97"},{"ruleId":"106","severity":1,"message":"107","line":13,"column":3,"nodeType":"108","messageId":"109","endLine":25,"endColumn":4},{"ruleId":"110","severity":1,"message":"111","line":4,"column":10,"nodeType":"104","messageId":"105","endLine":4,"endColumn":17},{"ruleId":"110","severity":1,"message":"112","line":4,"column":19,"nodeType":"104","messageId":"105","endLine":4,"endColumn":24},{"ruleId":"110","severity":1,"message":"113","line":5,"column":10,"nodeType":"104","messageId":"105","endLine":5,"endColumn":14},{"ruleId":"110","severity":1,"message":"114","line":6,"column":8,"nodeType":"104","messageId":"105","endLine":6,"endColumn":13},{"ruleId":"110","severity":1,"message":"115","line":24,"column":9,"nodeType":"104","messageId":"105","endLine":24,"endColumn":16},{"ruleId":"106","severity":1,"message":"107","line":129,"column":3,"nodeType":"108","messageId":"109","endLine":144,"endColumn":4},{"ruleId":"102","severity":1,"message":"116","line":1,"column":38,"nodeType":"104","messageId":"105","endLine":1,"endColumn":46},{"ruleId":"102","severity":1,"message":"112","line":5,"column":19,"nodeType":"104","messageId":"105","endLine":5,"endColumn":24},{"ruleId":"98","severity":1,"message":"117","line":23,"column":6,"nodeType":"100","endLine":23,"endColumn":8,"suggestions":"118"},"no-native-reassign",["119"],"no-negated-in-lhs",["120"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'wallet'. Either include it or remove the dependency array.","ArrayExpression",["121"],"@typescript-eslint/no-unused-vars","'eventBus' is defined but never used.","Identifier","unusedVar","default-case","Expected a default case.","SwitchStatement","missingDefaultCase","no-unused-vars","'fromRau' is defined but never used.","'toRau' is defined but never used.","'wait' is defined but never used.","'sleep' is defined but never used.","'antenna' is assigned a value but never used.","'computed' is defined but never used.","React Hook useEffect has a missing dependency: 'id'. Either include it or remove the dependency array.",["122"],"no-global-assign","no-unsafe-negation",{"desc":"123","fix":"124"},{"desc":"125","fix":"126"},"Update the dependencies array to be: [wallet]",{"range":"127","text":"128"},"Update the dependencies array to be: [id]",{"range":"129","text":"130"},[747,749],"[wallet]",[790,792],"[id]"]